"use strict";(self.webpackChunkproject8=self.webpackChunkproject8||[]).push([[271],{4271:function(e,r,s){s.r(r),s.d(r,{AddMessageForm:function(){return x},Chat:function(){return d},ChatMessage:function(){return j},ChatMessages:function(){return g},default:function(){return v}});var n=s(8683),t=s(885),a=s(2791),u=s(5705),i=s(2111),c="ChatPage_form__jDXX6",o="ChatPage_messages__8A269",l=s(3531),m=s(6953),f=s(2797),h=s(184),d=(0,a.memo)((function(){var e=(0,l.I0)();return(0,a.useEffect)((function(){return e((0,m.WE)()),function(){e((0,m.R7)())}}),[e]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g,{}),(0,h.jsx)(x,{})]})})),g=(0,a.memo)((function(){var e=(0,l.v9)((function(e){return e.chat.messages})),r=(0,a.useRef)(null),s=(0,a.useState)(!0),n=(0,t.Z)(s,2),u=n[0],i=n[1];return(0,a.useEffect)((function(){u&&setTimeout((function(){var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[u,e]),(0,h.jsxs)("div",{className:o,onScroll:function(e){var r=e.currentTarget,s=r.scrollHeight-r.scrollTop;Math.abs(s-r.clientHeight)<300?u||i(!0):u&&i(!1)},children:[e.map((function(e){return(0,h.jsx)(j,{message:e},e.id)})),(0,h.jsx)("div",{ref:r})]})})),j=(0,a.memo)((function(e){var r=e.message;return(0,h.jsxs)("div",{children:[(0,h.jsx)("img",{width:60,src:r.photo,alt:"Avatar"}),(0,h.jsx)("b",{children:r.userName}),(0,h.jsx)("br",{}),r.message,(0,h.jsx)("hr",{})]})})),x=(0,a.memo)((function(){var e=(0,l.v9)((function(e){return e.chat.status})),r=(0,l.I0)(),s=f.Ry({messages:f.Z_().required("This is a required field!")});return"error"===e&&alert("Some error occurred. Please refresh the page!"),(0,h.jsx)(u.J9,{initialValues:{messages:""},onSubmit:function(e,s){var n=s.resetForm;r((0,m.bG)(e.messages)),n()},validationSchema:s,children:(0,h.jsxs)(u.l0,{className:c,children:[(0,h.jsx)(u.gN,{name:"messages",children:function(e){return(0,h.jsx)(i.Z,(0,n.Z)({placeholder:"Enter the message..."},e))}}),(0,h.jsx)("button",{className:"send_btn",type:"submit",disabled:"ready"!==e,children:"\u1431"})]})})})),v=function(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d,{})})}}}]);
//# sourceMappingURL=271.f05e805a.chunk.js.map